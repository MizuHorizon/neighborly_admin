"use strict";exports.id=164,exports.ids=[164],exports.modules={164:(a,b,c)=>{c.r(b),c.d(b,{default:()=>ac});var d=c(687),e=c(3210),f=c(9494),g=c(5390),h=c(4224),i=c(2857);let j=(0,h.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function k({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,i.cn)(j({variant:b}),a),...c})}let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));l.displayName="Card";let m=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...b}));m.displayName="CardHeader";let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));n.displayName="CardTitle",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,i.cn)("text-sm text-muted-foreground",a),...b})).displayName="CardDescription";let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,i.cn)("p-6 pt-0",a),...b}));o.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,i.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{className:"relative w-full overflow-auto",children:(0,d.jsx)("table",{ref:c,className:(0,i.cn)("w-full caption-bottom text-sm",a),...b})}));p.displayName="Table";let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("thead",{ref:c,className:(0,i.cn)("[&_tr]:border-b",a),...b}));q.displayName="TableHeader";let r=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tbody",{ref:c,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...b}));r.displayName="TableBody",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tfoot",{ref:c,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...b})).displayName="TableFooter";let s=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tr",{ref:c,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...b}));s.displayName="TableRow";let t=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("th",{ref:c,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...b}));t.displayName="TableHead";let u=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("td",{ref:c,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...b}));u.displayName="TableCell",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("caption",{ref:c,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...b})).displayName="TableCaption";var v=c(6349),w=c(4719),x=c(5071),y=c(9891),z=c(83),A=c(1312),B=c(3861);class C extends Error{constructor(a,b){super(b),this.status=a,this.name="ApiError"}}async function D(a,b={}){let c=localStorage.getItem("accessToken"),d=await fetch(`https://api.neighborly.live/api${a}`,{...b,headers:{"Content-Type":"application/json",...c&&{Authorization:`Bearer ${c}`},...b.headers}});if(!d.ok)throw new C(d.status,`HTTP ${d.status}: ${d.statusText}`);return await d.json()}let E={getDriverApplications:a=>D(`/driver-applications${a?`?status=${a}`:""}`),approveApplication:a=>D(`/driver-applications/${a}/approve`,{method:"POST"}),rejectApplication:(a,b)=>D(`/driver-applications/${a}/reject`,{method:"POST",body:JSON.stringify({reason:b})})};var F=c(4050),G=c(8960),H=c(1860);let I=G.bL;G.l9;let J=G.ZL;G.bm;let K=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(G.hJ,{ref:c,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));K.displayName=G.hJ.displayName;let L=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(J,{children:[(0,d.jsx)(K,{}),(0,d.jsxs)(G.UC,{ref:e,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(G.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(H.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));L.displayName=G.UC.displayName;let M=({className:a,...b})=>(0,d.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});M.displayName="DialogHeader";let N=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(G.hE,{ref:c,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));N.displayName=G.hE.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(G.VY,{ref:c,className:(0,i.cn)("text-sm text-muted-foreground",a),...b})).displayName=G.VY.displayName;var O=c(6582);let P=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:c,...b}));P.displayName="Textarea";var Q=c(8869),R=c(1550),S=c(8340),T=c(228),U=c(7992),V=c(4478),W=c(22),X=c(5334),Y=c(7900),Z=c(5291),$=c(7566),_=c(3010);function aa({application:a,isOpen:b,onClose:c}){let{toast:f}=(0,$.dj)(),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(""),l=(0,F.n)({mutationFn:()=>E.approveApplication(a.application_id),onSuccess:()=>{Z.qQ.invalidateQueries({queryKey:["/api/driver-applications"]}),f({title:"Application Approved",description:"The driver application has been approved successfully."}),c()},onError:()=>{f({title:"Approval Failed",description:"Failed to approve the application. Please try again.",variant:"destructive"})}}),m=(0,F.n)({mutationFn:b=>E.rejectApplication(a.application_id,b),onSuccess:()=>{Z.qQ.invalidateQueries({queryKey:["/api/driver-applications"]}),f({title:"Application Rejected",description:"The driver application has been rejected."}),c()},onError:()=>{f({title:"Rejection Failed",description:"Failed to reject the application. Please try again.",variant:"destructive"})}}),n=(a,b)=>{a?window.open(a,"_blank"):f({title:"Document Not Available",description:`${b} document is not available.`,variant:"destructive"})};return(0,d.jsx)(I,{open:b,onOpenChange:c,children:(0,d.jsx)(L,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-0 border-0 shadow-notion-lg",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,d.jsxs)(M,{className:"px-6 py-4 border-b border-border",children:[(0,d.jsx)(N,{className:"text-lg font-semibold text-foreground",children:"Review Application"}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[a.full_name," â€¢ Submitted ",(()=>{try{return a.created_at?(0,_.GP)(new Date(a.created_at),"MMM dd, yyyy"):"Unknown date"}catch{return"Unknown date"}})()]})]}),(0,d.jsxs)("div",{className:"px-6 py-6 space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,d.jsx)("div",{className:"h-8 w-8 bg-notion-blue rounded-lg flex items-center justify-center",children:(0,d.jsx)(Q.A,{className:"h-4 w-4 text-notion-blue-dark"})}),(0,d.jsx)("h3",{className:"text-base font-semibold text-foreground",children:"Personal Information"})]}),(0,d.jsx)("div",{className:"bg-notion-gray rounded-lg p-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(Q.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Full Name"})]}),(0,d.jsx)("p",{className:"text-sm font-medium text-foreground","data-testid":"text-full-name",children:a.full_name})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"})]}),(0,d.jsx)("p",{className:"text-sm text-foreground","data-testid":"text-email",children:a.email})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(S.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Phone Number"})]}),(0,d.jsx)("p",{className:"text-sm text-foreground","data-testid":"text-phone",children:a.phone_number})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(T.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date of Birth"})]}),(0,d.jsx)("p",{className:"text-sm text-foreground","data-testid":"text-dob",children:(()=>{try{return a.date_of_birth?(0,_.GP)(new Date(a.date_of_birth),"MMM dd, yyyy"):"Unknown date"}catch{return"Unknown date"}})()})]}),(0,d.jsxs)("div",{className:"md:col-span-2 space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(U.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Address"})]}),(0,d.jsx)("p",{className:"text-sm text-foreground","data-testid":"text-address",children:a.address})]})]})})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,d.jsx)("div",{className:"h-8 w-8 bg-notion-purple rounded-lg flex items-center justify-center",children:(0,d.jsx)(V.A,{className:"h-4 w-4 text-notion-purple-dark"})}),(0,d.jsx)("h3",{className:"text-base font-semibold text-foreground",children:"Vehicle Information"})]}),(0,d.jsx)("div",{className:"bg-notion-gray rounded-lg p-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Vehicle"}),(0,d.jsxs)("p",{className:"text-sm font-medium text-foreground","data-testid":"text-car-name",children:[a.car.car_name," ",a.car.car_model]})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"License Plate"}),(0,d.jsx)("p",{className:"text-sm text-foreground font-mono","data-testid":"text-license-plate",children:a.car.license_plate})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Color"}),(0,d.jsx)("p",{className:"text-sm text-foreground capitalize","data-testid":"text-car-color",children:a.car.car_color})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Year"}),(0,d.jsx)("p",{className:"text-sm text-foreground","data-testid":"text-car-year",children:a.car.car_year||"Not specified"})]})]})})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,d.jsx)("div",{className:"h-8 w-8 bg-notion-green rounded-lg flex items-center justify-center",children:(0,d.jsx)(W.A,{className:"h-4 w-4 text-notion-green-dark"})}),(0,d.jsx)("h3",{className:"text-base font-semibold text-foreground",children:"Documents"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"notion-card p-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("div",{className:"h-10 w-10 bg-notion-blue rounded-lg flex items-center justify-center",children:(0,d.jsx)(W.A,{className:"h-5 w-5 text-notion-blue-dark"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Driving License"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Expires ",(()=>{try{return a.driving_license_expiry_date?(0,_.GP)(new Date(a.driving_license_expiry_date),"MMM dd, yyyy"):"Unknown date"}catch{return"Unknown date"}})()]})]})]}),(0,d.jsxs)(g.$,{size:"sm",variant:"ghost",className:"w-full justify-start text-notion-blue-dark hover:bg-notion-blue",onClick:()=>n(a.driving_license_url,"Driving License"),"data-testid":"button-view-license",children:[(0,d.jsx)(X.A,{className:"h-4 w-4 mr-2"}),"View Document"]})]}),(0,d.jsxs)("div",{className:"notion-card p-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("div",{className:"h-10 w-10 bg-notion-green rounded-lg flex items-center justify-center",children:(0,d.jsx)(W.A,{className:"h-5 w-5 text-notion-green-dark"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Insurance"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.insurance_document_number}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Expires ",(()=>{try{return a.insurance_expiry_date?(0,_.GP)(new Date(a.insurance_expiry_date),"MMM dd, yyyy"):"Unknown date"}catch{return"Unknown date"}})()]})]})]}),(0,d.jsxs)(g.$,{size:"sm",variant:"ghost",className:"w-full justify-start text-notion-green-dark hover:bg-notion-green",onClick:()=>n(a.insurance_document_url,"Insurance"),"data-testid":"button-view-insurance",children:[(0,d.jsx)(X.A,{className:"h-4 w-4 mr-2"}),"View Document"]})]}),(0,d.jsxs)("div",{className:"notion-card p-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("div",{className:"h-10 w-10 bg-notion-purple rounded-lg flex items-center justify-center",children:(0,d.jsx)(W.A,{className:"h-5 w-5 text-notion-purple-dark"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Car Sticker"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vehicle identification"})]})]}),(0,d.jsxs)(g.$,{size:"sm",variant:"ghost",className:"w-full justify-start text-notion-purple-dark hover:bg-notion-purple",onClick:()=>n(a.car_sticker_url,"Car Sticker"),"data-testid":"button-view-sticker",children:[(0,d.jsx)(X.A,{className:"h-4 w-4 mr-2"}),"View Document"]})]})]})]}),h&&(0,d.jsxs)("div",{className:"bg-notion-red rounded-lg p-4",children:[(0,d.jsx)(O.J,{htmlFor:"rejectionReason",className:"text-sm font-medium text-foreground mb-3 block",children:"Rejection Reason"}),(0,d.jsx)(P,{id:"rejectionReason",rows:3,className:"w-full border-border bg-white",placeholder:"Please provide a detailed reason for rejection...",value:j,onChange:a=>k(a.target.value),"data-testid":"textarea-rejection-reason"})]})]}),(0,d.jsx)("div",{className:"px-6 py-4 border-t border-border bg-notion-gray-light",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,d.jsx)(g.$,{className:"flex-1 bg-notion-green-dark text-white hover:bg-green-700 shadow-sm",onClick:()=>{l.mutate()},disabled:"pending"!==a.status||l.isPending||m.isPending,"data-testid":"button-approve",children:l.isPending?(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Approving..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Approve"]})}),(0,d.jsx)(g.$,{variant:"destructive",className:"flex-1 bg-notion-red-dark text-white hover:bg-red-700 shadow-sm",onClick:()=>h?j.trim()?void m.mutate(j):void f({title:"Rejection Reason Required",description:"Please provide a reason for rejection.",variant:"destructive"}):void i(!0),disabled:"pending"!==a.status||l.isPending||m.isPending,"data-testid":"button-reject",children:m.isPending?(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Rejecting..."})]}):h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Y.A,{className:"h-4 w-4 mr-2"}),"Send Rejection"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Reject"]})})]})})]})})})}var ab=c(7849);function ac(){let{user:a,logout:b}=(0,ab.A)(),[c,h]=(0,e.useState)(null),[i,j]=(0,e.useState)(!1),{data:C,isLoading:D,error:F}=(0,f.I)({queryKey:["/api/driver-applications"],queryFn:()=>E.getDriverApplications()}),G={total:C?.length||0,pending:C?.filter(a=>"pending"===a.status).length||0,approved:C?.filter(a=>"approved"===a.status).length||0,rejected:C?.filter(a=>"rejected"===a.status).length||0};return D?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"h-16 w-16 bg-foreground rounded-lg flex items-center justify-center mx-auto",children:(0,d.jsx)("div",{className:"h-8 w-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Loading Dashboard..."}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Fetching driver applications"})]})]})}):F?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,d.jsx)(x.A,{className:"h-8 w-8 text-red-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Error Loading Dashboard"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Failed to fetch driver applications. Please try again."})]})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-notion-gray-light",children:[(0,d.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"h-12 w-12 bg-foreground rounded-lg flex items-center justify-center",children:(0,d.jsx)(y.A,{className:"h-6 w-6 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Neighborly Admin"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Driver Application Management"})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-foreground",children:a?.name}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground capitalize",children:[a?.role," Access"]})]}),(0,d.jsxs)(g.$,{variant:"outline",size:"sm",onClick:b,className:"border-gray-300 hover:bg-gray-50","data-testid":"button-logout",children:[(0,d.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsxs)(l,{className:"notion-card",children:[(0,d.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(n,{className:"text-sm font-medium text-muted-foreground",children:"Total Applications"}),(0,d.jsx)(A.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsx)(o,{children:(0,d.jsx)("div",{className:"text-2xl font-bold","data-testid":"stat-total",children:G.total})})]}),(0,d.jsxs)(l,{className:"notion-card",children:[(0,d.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(n,{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"}),(0,d.jsx)(v.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,d.jsx)(o,{children:(0,d.jsx)("div",{className:"text-2xl font-bold text-yellow-600","data-testid":"stat-pending",children:G.pending})})]}),(0,d.jsxs)(l,{className:"notion-card",children:[(0,d.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(n,{className:"text-sm font-medium text-muted-foreground",children:"Approved"}),(0,d.jsx)(w.A,{className:"h-4 w-4 text-green-500"})]}),(0,d.jsx)(o,{children:(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600","data-testid":"stat-approved",children:G.approved})})]}),(0,d.jsxs)(l,{className:"notion-card",children:[(0,d.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(n,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"}),(0,d.jsx)(x.A,{className:"h-4 w-4 text-red-500"})]}),(0,d.jsx)(o,{children:(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600","data-testid":"stat-rejected",children:G.rejected})})]})]}),(0,d.jsxs)(l,{className:"notion-card",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(n,{className:"text-lg font-semibold text-foreground",children:"Driver Applications"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Review and manage driver applications for Neighborly"})]}),(0,d.jsxs)(o,{className:"p-0",children:[(0,d.jsxs)(p,{children:[(0,d.jsx)(q,{children:(0,d.jsxs)(s,{className:"border-b border-gray-200",children:[(0,d.jsx)(t,{className:"font-medium text-muted-foreground",children:"Driver"}),(0,d.jsx)(t,{className:"font-medium text-muted-foreground",children:"Contact"}),(0,d.jsx)(t,{className:"font-medium text-muted-foreground",children:"Vehicle"}),(0,d.jsx)(t,{className:"font-medium text-muted-foreground",children:"Status"}),(0,d.jsx)(t,{className:"font-medium text-muted-foreground",children:"Actions"})]})}),(0,d.jsx)(r,{children:C?.map(a=>(0,d.jsxs)(s,{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,d.jsx)(u,{className:"py-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-foreground","data-testid":`text-name-${a.application_id}`,children:a.full_name}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",a.application_id?.slice(0,8),"..."]})]})}),(0,d.jsx)(u,{className:"py-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-foreground",children:a.email}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:a.phone_number})]})}),(0,d.jsx)(u,{className:"py-4",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium text-foreground",children:[a.car.car_name," ",a.car.car_model]}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground font-mono",children:a.car.license_plate})]})}),(0,d.jsx)(u,{className:"py-4",children:(a=>{switch(a){case"pending":return(0,d.jsxs)(k,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[(0,d.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Pending"]});case"approved":return(0,d.jsxs)(k,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-200",children:[(0,d.jsx)(w.A,{className:"h-3 w-3 mr-1"}),"Approved"]});case"rejected":return(0,d.jsxs)(k,{variant:"secondary",className:"bg-red-100 text-red-800 hover:bg-red-200",children:[(0,d.jsx)(x.A,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return(0,d.jsx)(k,{variant:"outline",children:a})}})(a.status)}),(0,d.jsx)(u,{className:"py-4",children:(0,d.jsxs)(g.$,{size:"sm",variant:"outline",onClick:()=>{h(a),j(!0)},className:"border-gray-300 hover:bg-gray-50","data-testid":`button-review-${a.application_id}`,children:[(0,d.jsx)(B.A,{className:"h-4 w-4 mr-1"}),"Review"]})})]},a.application_id))})]}),C?.length===0&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(A.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Applications Found"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"There are currently no driver applications to review."})]})]})]})]}),c&&(0,d.jsx)(aa,{application:c,isOpen:i,onClose:()=>{j(!1),h(null)}})]})}},5390:(a,b,c)=>{c.d(b,{$:()=>j});var d=c(687),e=c(3210),f=c(8730),g=c(4224),h=c(2857);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},6582:(a,b,c)=>{c.d(b,{J:()=>j});var d=c(687),e=c(3210),f=c(8148),g=c(4224),h=c(2857);let i=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.b,{ref:c,className:(0,h.cn)(i(),a),...b}));j.displayName=f.b.displayName}};